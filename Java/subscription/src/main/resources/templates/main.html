<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title th:text="${title}"></title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <link rel="icon" th:href="@{/img/main.jpg}"/>
</head>
<body>
<header th:insert="blocks/header"></header>
<main>
    <section class="py-5 text-center container">
        <div class="position-relative w-100">
            <a href="#" id="left"
               class="position-absolute top-50 start-0 translate-middle-y text-white fs-1 px-4 text-decoration-none"
               style="background-color: rgba(0, 0, 0, 0.3); border-radius: 50%; transition: background-color 0.3s;">
                ←
            </a>

            <a href="/"><img id="img" th:src="@{/img/slider/1.jpg}" class="img-fluid w-100" style="object-fit: cover; max-height: 500px;"></a>

            <a href="#" id="right"
               class="position-absolute top-50 end-0 translate-middle-y text-white fs-1 px-4 text-decoration-none"
               style="background-color: rgba(0, 0, 0, 0.3); border-radius: 50%; transition: background-color 0.3s;">
                →
            </a>
        </div>
    </section>



    <script>
        let count = 1;
        const max = 2;

        document.getElementById('left').addEventListener('click', function(event) {
            event.preventDefault();
            update(-1);
        });

        document.getElementById('right').addEventListener('click', function(event) {
            event.preventDefault();
            update(1);
        });

        function update(direction) {
            count += direction;

            if (count < 1) {
                count = max;
            } else if (count > max) {
                count = 1;
            }

            document.getElementById('img').src = '/img/slider/' + count + ".jpg";
        }
    </script>


    <div class="album py-5 bg-light">
        <div class="container">
            <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-4">
                <div th:each="el : ${products}" class="col">
                    <div class="card h-100 shadow-sm">
                        <img th:src="@{'/img/' + ${el.image}}" class="card-img-top" alt="picture">

                        <div class="card-body">
                            <h5 class="card-title" th:text="${el.name}"></h5>
                        </div>

                        <div class="card-footer d-flex justify-content-between align-items-center">
                            <button type="button" class="btn btn-sm btn-outline-primary">
                                Добавить в корзину
                            </button>
                            <span class="fw-bold text-secondary" th:text="${el.price}"></span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

</main>
<div th:insert="blocks/footer"></div>
</body>
</html>